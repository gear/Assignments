\begin{coqdoccode}
\coqdocemptyline
\coqdocemptyline
\end{coqdoccode}
\paragraph{Q3.1.} We would like to port the compiler to another stack machine whose behavior is slightly different from the original one. Although the representation of its structure remains the same (\coqdockw{Definition} \coqdocvar{prog} := \coqdocvar{list} \coqdocvar{instr} and \coqdockw{Definition} \coqdocvar{stack} := \coqdocvar{list} \coqdocvar{nat}), the new stack machine's interpretation of instructions is slightly different: \begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{fmcs a2 q3.instrDenote'}{instrDenote'}{\coqdocdefinition{instrDenote'}} (\coqdocvar{i} : \coqref{fmcs a2 q3.instr}{\coqdocinductive{instr}}) (\coqdocvar{s} : \coqref{fmcs a2 q3.stack}{\coqdocdefinition{stack}}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqref{fmcs a2 q3.stack}{\coqdocdefinition{stack}} :=\coqdoceol
\coqdocindent{1.00em}
\coqdockw{match} \coqdocvariable{i} \coqdockw{with}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{fmcs a2 q3.iConst}{\coqdocconstructor{iConst}} \coqdocvar{n} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocvar{n} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvariable{s})\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{fmcs a2 q3.iBinop}{\coqdocconstructor{iBinop}} \coqdocvar{b} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvariable{s} \coqdockw{with}\coqdoceol
\coqdocindent{8.00em}
\ensuremath{|} \coqdocvar{arg2} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{arg1} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{s'} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} ((\coqref{fmcs a2 q3.binopDenote}{\coqdocdefinition{binopDenote}} \coqdocvar{b}) \coqdocvar{arg1} \coqdocvar{arg2} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{s'})\coqdoceol
\coqdocindent{8.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{8.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{1.00em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
The instrDenote' function assumes that the second operand at the stack top while instrDenote assumes the first one at the top. Given this modified instrDenote' function, try to modifiy the implementation of the compiler so that it suits the new definition and prove its correctness. 

 \paragraph{Q3.2.} Extend your implementation of \textbf{Q3.1} to add Minus operator to binop and adjust definitions of denotations, the compiler, appropriately and complete the proof.\begin{coqdoccode}
\coqdocemptyline
\end{coqdoccode}
